{"ast":null,"code":"import getQuerySelectionSet from './query-selection-set.js';\n\n/*\n * sdk relies heavily on sys metadata\n * so we cannot omit the sys property on sdk level entirely\n * and we have to ensure that at least `id` and `type` are present\n * */\nfunction normalizeSelect(query) {\n  if (!query.select) {\n    return query;\n  }\n  const selectedSet = getQuerySelectionSet(query);\n  // If we already select all of `sys` we can just return\n  // since we're anyway fetching everything that is needed\n  if (selectedSet.has('sys')) {\n    return query;\n  }\n  // We don't select `sys` so we need to ensure the minimum set\n  selectedSet.add('sys.id');\n  selectedSet.add('sys.type');\n  // Reassign the normalized sys properties\n  return Object.assign(Object.assign({}, query), {\n    select: [...selectedSet].join(',')\n  });\n}\nexport { normalizeSelect as default };","map":{"version":3,"names":["getQuerySelectionSet","normalizeSelect","query","select","selectedSet","has","add","Object","assign","join","default"],"sources":["/Users/alyssaingerson/Documents/GitHub/mr-ingerson-blog/node_modules/contentful/dist/esm/utils/normalize-select.js"],"sourcesContent":["import getQuerySelectionSet from './query-selection-set.js';\n\n/*\n * sdk relies heavily on sys metadata\n * so we cannot omit the sys property on sdk level entirely\n * and we have to ensure that at least `id` and `type` are present\n * */\nfunction normalizeSelect(query) {\n    if (!query.select) {\n        return query;\n    }\n    const selectedSet = getQuerySelectionSet(query);\n    // If we already select all of `sys` we can just return\n    // since we're anyway fetching everything that is needed\n    if (selectedSet.has('sys')) {\n        return query;\n    }\n    // We don't select `sys` so we need to ensure the minimum set\n    selectedSet.add('sys.id');\n    selectedSet.add('sys.type');\n    // Reassign the normalized sys properties\n    return Object.assign(Object.assign({}, query), { select: [...selectedSet].join(',') });\n}\n\nexport { normalizeSelect as default };\n"],"mappings":"AAAA,OAAOA,oBAAoB,MAAM,0BAA0B;;AAE3D;AACA;AACA;AACA;AACA;AACA,SAASC,eAAeA,CAACC,KAAK,EAAE;EAC5B,IAAI,CAACA,KAAK,CAACC,MAAM,EAAE;IACf,OAAOD,KAAK;EAChB;EACA,MAAME,WAAW,GAAGJ,oBAAoB,CAACE,KAAK,CAAC;EAC/C;EACA;EACA,IAAIE,WAAW,CAACC,GAAG,CAAC,KAAK,CAAC,EAAE;IACxB,OAAOH,KAAK;EAChB;EACA;EACAE,WAAW,CAACE,GAAG,CAAC,QAAQ,CAAC;EACzBF,WAAW,CAACE,GAAG,CAAC,UAAU,CAAC;EAC3B;EACA,OAAOC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEN,KAAK,CAAC,EAAE;IAAEC,MAAM,EAAE,CAAC,GAAGC,WAAW,CAAC,CAACK,IAAI,CAAC,GAAG;EAAE,CAAC,CAAC;AAC1F;AAEA,SAASR,eAAe,IAAIS,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}