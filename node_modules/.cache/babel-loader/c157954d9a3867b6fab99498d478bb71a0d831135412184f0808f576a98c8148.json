{"ast":null,"code":"import copy from 'fast-copy';\nimport qs from 'qs';\nimport isString from 'lodash.isstring';\nimport pThrottle from 'p-throttle';\nimport isPlainObject from 'lodash.isplainobject';\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _createForOfIteratorHelper(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (!t) {\n    if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\n      t && (r = t);\n      var n = 0,\n        F = function () {};\n      return {\n        s: F,\n        n: function () {\n          return n >= r.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: r[n++]\n          };\n        },\n        e: function (r) {\n          throw r;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var o,\n    a = !0,\n    u = !1;\n  return {\n    s: function () {\n      t = t.call(r);\n    },\n    n: function () {\n      var r = t.next();\n      return a = r.done, r;\n    },\n    e: function (r) {\n      u = !0, o = r;\n    },\n    f: function () {\n      try {\n        a || null == t.return || t.return();\n      } finally {\n        if (u) throw o;\n      }\n    }\n  };\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && _setPrototypeOf(t, e);\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function () {\n    return e;\n  };\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function (t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == typeof h && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function (t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator.return && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(typeof e + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function () {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function (e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function (t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function (t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    catch: function (t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nfunction _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _wrapRegExp() {\n  _wrapRegExp = function (e, r) {\n    return new BabelRegExp(e, void 0, r);\n  };\n  var e = RegExp.prototype,\n    r = new WeakMap();\n  function BabelRegExp(e, t, p) {\n    var o = RegExp(e, t);\n    return r.set(o, p || r.get(e)), _setPrototypeOf(o, BabelRegExp.prototype);\n  }\n  function buildGroups(e, t) {\n    var p = r.get(t);\n    return Object.keys(p).reduce(function (r, t) {\n      var o = p[t];\n      if (\"number\" == typeof o) r[t] = e[o];else {\n        for (var i = 0; void 0 === e[o[i]] && i + 1 < o.length;) i++;\n        r[t] = e[o[i]];\n      }\n      return r;\n    }, Object.create(null));\n  }\n  return _inherits(BabelRegExp, RegExp), BabelRegExp.prototype.exec = function (r) {\n    var t = e.exec.call(this, r);\n    if (t) {\n      t.groups = buildGroups(t, this);\n      var p = t.indices;\n      p && (p.groups = buildGroups(p, this));\n    }\n    return t;\n  }, BabelRegExp.prototype[Symbol.replace] = function (t, p) {\n    if (\"string\" == typeof p) {\n      var o = r.get(this);\n      return e[Symbol.replace].call(this, t, p.replace(/\\$<([^>]+)>/g, function (e, r) {\n        var t = o[r];\n        return \"$\" + (Array.isArray(t) ? t.join(\"$\") : t);\n      }));\n    }\n    if (\"function\" == typeof p) {\n      var i = this;\n      return e[Symbol.replace].call(this, t, function () {\n        var e = arguments;\n        return \"object\" != typeof e[e.length - 1] && (e = [].slice.call(e)).push(buildGroups(e, i)), p.apply(this, e);\n      });\n    }\n    return e[Symbol.replace].call(this, t, p);\n  }, _wrapRegExp.apply(this, arguments);\n}\nfunction asyncToken(instance, getToken) {\n  instance.interceptors.request.use(function (config) {\n    return getToken().then(function (accessToken) {\n      config.headers.set('Authorization', \"Bearer \".concat(accessToken));\n      return config;\n    });\n  });\n}\nfunction isNode() {\n  /**\r\n   * Polyfills of 'process' might set process.browser === true\r\n   *\r\n   * See:\r\n   * https://github.com/webpack/node-libs-browser/blob/master/mock/process.js#L8\r\n   * https://github.com/defunctzombie/node-process/blob/master/browser.js#L156\r\n   **/\n  return typeof process !== 'undefined' && !process.browser;\n}\nfunction isReactNative() {\n  return typeof window !== 'undefined' && 'navigator' in window && 'product' in window.navigator && window.navigator.product === 'ReactNative';\n}\nfunction getNodeVersion() {\n  return process.versions && process.versions.node ? \"v\".concat(process.versions.node) : process.version;\n}\nfunction getWindow() {\n  return window;\n}\nfunction noop() {\n  return undefined;\n}\nvar delay = function delay(ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, ms);\n  });\n};\nvar defaultWait = function defaultWait(attempts) {\n  return Math.pow(Math.SQRT2, attempts);\n};\nfunction rateLimit(instance) {\n  var maxRetry = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n  var _instance$defaults = instance.defaults,\n    _instance$defaults$re = _instance$defaults.responseLogger,\n    responseLogger = _instance$defaults$re === void 0 ? noop : _instance$defaults$re,\n    _instance$defaults$re2 = _instance$defaults.requestLogger,\n    requestLogger = _instance$defaults$re2 === void 0 ? noop : _instance$defaults$re2;\n  instance.interceptors.request.use(function (config) {\n    requestLogger(config);\n    return config;\n  }, function (error) {\n    requestLogger(error);\n    return Promise.reject(error);\n  });\n  instance.interceptors.response.use(function (response) {\n    // we don't need to do anything here\n    responseLogger(response);\n    return response;\n  }, /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(error) {\n      var response, config, doneAttempts, retryErrorType, wait;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            response = error.response;\n            config = error.config;\n            responseLogger(error);\n            // Do not retry if it is disabled or no request config exists (not an axios error)\n            if (!(!config || !instance.defaults.retryOnError)) {\n              _context.next = 5;\n              break;\n            }\n            return _context.abrupt(\"return\", Promise.reject(error));\n          case 5:\n            // Retried already for max attempts\n            doneAttempts = config.attempts || 1;\n            if (!(doneAttempts > maxRetry)) {\n              _context.next = 9;\n              break;\n            }\n            error.attempts = config.attempts;\n            return _context.abrupt(\"return\", Promise.reject(error));\n          case 9:\n            retryErrorType = null;\n            wait = defaultWait(doneAttempts); // Errors without response did not receive anything from the server\n            if (!response) {\n              retryErrorType = 'Connection';\n            } else if (response.status >= 500 && response.status < 600) {\n              // 5** errors are server related\n              retryErrorType = \"Server \".concat(response.status);\n            } else if (response.status === 429) {\n              // 429 errors are exceeded rate limit exceptions\n              retryErrorType = 'Rate limit';\n              // all headers are lowercased by axios https://github.com/mzabriskie/axios/issues/413\n              if (response.headers && error.response.headers['x-contentful-ratelimit-reset']) {\n                wait = response.headers['x-contentful-ratelimit-reset'];\n              }\n            }\n            if (!retryErrorType) {\n              _context.next = 19;\n              break;\n            }\n            // convert to ms and add jitter\n            wait = Math.floor(wait * 1000 + Math.random() * 200 + 500);\n            instance.defaults.logHandler('warning', \"\".concat(retryErrorType, \" error occurred. Waiting for \").concat(wait, \" ms before retrying...\"));\n\n            // increase attempts counter\n            config.attempts = doneAttempts + 1;\n\n            /* Somehow between the interceptor and retrying the request the httpAgent/httpsAgent gets transformed from an Agent-like object\r\n             to a regular object, causing failures on retries after rate limits. Removing these properties here fixes the error, but retry\r\n             requests still use the original http/httpsAgent property */\n            delete config.httpAgent;\n            delete config.httpsAgent;\n            return _context.abrupt(\"return\", delay(wait).then(function () {\n              return instance(config);\n            }));\n          case 19:\n            return _context.abrupt(\"return\", Promise.reject(error));\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n}\nvar PERCENTAGE_REGEX = /*#__PURE__*/_wrapRegExp(/(\\d+)(%)/, {\n  value: 1\n});\nfunction calculateLimit(type) {\n  var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 7;\n  var limit = max;\n  if (PERCENTAGE_REGEX.test(type)) {\n    var _type$match;\n    var groups = (_type$match = type.match(PERCENTAGE_REGEX)) === null || _type$match === void 0 ? void 0 : _type$match.groups;\n    if (groups && groups.value) {\n      var percentage = parseInt(groups.value) / 100;\n      limit = Math.round(max * percentage);\n    }\n  }\n  return Math.min(30, Math.max(1, limit));\n}\nfunction createThrottle(limit, logger) {\n  logger('info', \"Throttle request to \".concat(limit, \"/s\"));\n  return pThrottle({\n    limit: limit,\n    interval: 1000,\n    strict: false\n  });\n}\nvar rateLimitThrottle = function (axiosInstance) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n  var _axiosInstance$defaul = axiosInstance.defaults.logHandler,\n    logHandler = _axiosInstance$defaul === void 0 ? noop : _axiosInstance$defaul;\n  var limit = isString(type) ? calculateLimit(type) : calculateLimit('auto', type);\n  var throttle = createThrottle(limit, logHandler);\n  var isCalculated = false;\n  var requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\n    return throttle(function () {\n      return config;\n    })();\n  }, function (error) {\n    return Promise.reject(error);\n  });\n  var responseInterceptorId = axiosInstance.interceptors.response.use(function (response) {\n    if (!isCalculated && isString(type) && (type === 'auto' || PERCENTAGE_REGEX.test(type)) && response.headers && response.headers['x-contentful-ratelimit-second-limit']) {\n      var rawLimit = parseInt(response.headers['x-contentful-ratelimit-second-limit']);\n      var nextLimit = calculateLimit(type, rawLimit);\n      if (nextLimit !== limit) {\n        if (requestInterceptorId) {\n          axiosInstance.interceptors.request.eject(requestInterceptorId);\n        }\n        limit = nextLimit;\n        throttle = createThrottle(nextLimit, logHandler);\n        requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\n          return throttle(function () {\n            return config;\n          })();\n        }, function (error) {\n          return Promise.reject(error);\n        });\n      }\n      isCalculated = true;\n    }\n    return response;\n  }, function (error) {\n    return Promise.reject(error);\n  });\n  return function () {\n    axiosInstance.interceptors.request.eject(requestInterceptorId);\n    axiosInstance.interceptors.response.eject(responseInterceptorId);\n  };\n};\n\n// Matches 'sub.host:port' or 'host:port' and extracts hostname and port\n// Also enforces toplevel domain specified, no spaces and no protocol\nvar HOST_REGEX = /^(?!\\w+:\\/\\/)([^\\s:]+\\.?[^\\s:]+)(?::(\\d+))?(?!:)$/;\n\n/**\r\n * Create pre-configured axios instance\r\n * @private\r\n * @param {AxiosStatic} axios - Axios library\r\n * @param {CreateHttpClientParams} options - Initialization parameters for the HTTP client\r\n * @return {AxiosInstance} Initialized axios instance\r\n */\nfunction createHttpClient(axios, options) {\n  var defaultConfig = {\n    insecure: false,\n    retryOnError: true,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    logHandler: function logHandler(level, data) {\n      if (level === 'error' && data) {\n        var title = [data.name, data.message].filter(function (a) {\n          return a;\n        }).join(' - ');\n        console.error(\"[error] \".concat(title));\n        console.error(data);\n        return;\n      }\n      console.log(\"[\".concat(level, \"] \").concat(data));\n    },\n    // Passed to axios\n    headers: {},\n    httpAgent: false,\n    httpsAgent: false,\n    timeout: 30000,\n    throttle: 0,\n    basePath: '',\n    adapter: undefined,\n    maxContentLength: 1073741824,\n    // 1GB\n    maxBodyLength: 1073741824 // 1GB\n  };\n  var config = _objectSpread2(_objectSpread2({}, defaultConfig), options);\n  if (!config.accessToken) {\n    var missingAccessTokenError = new TypeError('Expected parameter accessToken');\n    config.logHandler('error', missingAccessTokenError);\n    throw missingAccessTokenError;\n  }\n\n  // Construct axios baseURL option\n  var protocol = config.insecure ? 'http' : 'https';\n  var space = config.space ? \"\".concat(config.space, \"/\") : '';\n  var hostname = config.defaultHostname;\n  var port = config.insecure ? 80 : 443;\n  if (config.host && HOST_REGEX.test(config.host)) {\n    var parsed = config.host.split(':');\n    if (parsed.length === 2) {\n      var _parsed = _slicedToArray(parsed, 2);\n      hostname = _parsed[0];\n      port = _parsed[1];\n    } else {\n      hostname = parsed[0];\n    }\n  }\n\n  // Ensure that basePath does start but not end with a slash\n  if (config.basePath) {\n    config.basePath = \"/\".concat(config.basePath.split('/').filter(Boolean).join('/'));\n  }\n  var baseURL = options.baseURL || \"\".concat(protocol, \"://\").concat(hostname, \":\").concat(port).concat(config.basePath, \"/spaces/\").concat(space);\n  if (!config.headers.Authorization && typeof config.accessToken !== 'function') {\n    config.headers.Authorization = 'Bearer ' + config.accessToken;\n  }\n  var axiosOptions = {\n    // Axios\n    baseURL: baseURL,\n    headers: config.headers,\n    httpAgent: config.httpAgent,\n    httpsAgent: config.httpsAgent,\n    proxy: config.proxy,\n    timeout: config.timeout,\n    adapter: config.adapter,\n    maxContentLength: config.maxContentLength,\n    maxBodyLength: config.maxBodyLength,\n    paramsSerializer: {\n      serialize: function serialize(params) {\n        return qs.stringify(params);\n      }\n    },\n    // Contentful\n    logHandler: config.logHandler,\n    responseLogger: config.responseLogger,\n    requestLogger: config.requestLogger,\n    retryOnError: config.retryOnError\n  };\n  var instance = axios.create(axiosOptions);\n  instance.httpClientParams = options;\n\n  /**\r\n   * Creates a new axios instance with the same default base parameters as the\r\n   * current one, and with any overrides passed to the newParams object\r\n   * This is useful as the SDKs use dependency injection to get the axios library\r\n   * and the version of the library comes from different places depending\r\n   * on whether it's a browser build or a node.js build.\r\n   * @private\r\n   * @param {CreateHttpClientParams} newParams - Initialization parameters for the HTTP client\r\n   * @return {AxiosInstance} Initialized axios instance\r\n   */\n  instance.cloneWithNewParams = function (newParams) {\n    return createHttpClient(axios, _objectSpread2(_objectSpread2({}, copy(options)), newParams));\n  };\n\n  /**\r\n   * Apply interceptors.\r\n   * Please note that the order of interceptors is important\r\n   */\n\n  if (config.onBeforeRequest) {\n    instance.interceptors.request.use(config.onBeforeRequest);\n  }\n  if (typeof config.accessToken === 'function') {\n    asyncToken(instance, config.accessToken);\n  }\n  if (config.throttle) {\n    rateLimitThrottle(instance, config.throttle);\n  }\n  rateLimit(instance, config.retryLimit);\n  if (config.onError) {\n    instance.interceptors.response.use(function (response) {\n      return response;\n    }, config.onError);\n  }\n  return instance;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\r\n * Creates request parameters configuration by parsing an existing query object\r\n * @private\r\n * @param {Object} query\r\n * @return {Object} Config object with `params` property, ready to be used in axios\r\n */\nfunction createRequestConfig(_ref) {\n  var query = _ref.query;\n  var config = {};\n  delete query.resolveLinks;\n  config.params = copy(query);\n  return config;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction enforceObjPath(obj, path) {\n  if (!(path in obj)) {\n    var err = new Error();\n    err.name = 'PropertyMissing';\n    err.message = \"Required property \".concat(path, \" missing from:\\n\\n\").concat(JSON.stringify(obj), \"\\n\\n\");\n    throw err;\n  }\n  return true;\n}\n\n// copied from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n\nfunction deepFreeze(object) {\n  var propNames = Object.getOwnPropertyNames(object);\n  var _iterator = _createForOfIteratorHelper(propNames),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var name = _step.value;\n      var value = object[name];\n      if (value && _typeof(value) === 'object') {\n        deepFreeze(value);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return Object.freeze(object);\n}\nfunction freezeSys(obj) {\n  deepFreeze(obj.sys || {});\n  return obj;\n}\nfunction getBrowserOS() {\n  var win = getWindow();\n  if (!win) {\n    return null;\n  }\n  var userAgent = win.navigator.userAgent;\n  // TODO: platform is deprecated.\n  var platform = win.navigator.platform;\n  var macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n  var windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n  var iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n  if (macosPlatforms.indexOf(platform) !== -1) {\n    return 'macOS';\n  } else if (iosPlatforms.indexOf(platform) !== -1) {\n    return 'iOS';\n  } else if (windowsPlatforms.indexOf(platform) !== -1) {\n    return 'Windows';\n  } else if (/Android/.test(userAgent)) {\n    return 'Android';\n  } else if (/Linux/.test(platform)) {\n    return 'Linux';\n  }\n  return null;\n}\nfunction getNodeOS() {\n  var platform = process.platform || 'linux';\n  var version = process.version || '0.0.0';\n  var platformMap = {\n    android: 'Android',\n    aix: 'Linux',\n    darwin: 'macOS',\n    freebsd: 'Linux',\n    linux: 'Linux',\n    openbsd: 'Linux',\n    sunos: 'Linux',\n    win32: 'Windows'\n  };\n  if (platform in platformMap) {\n    return \"\".concat(platformMap[platform] || 'Linux', \"/\").concat(version);\n  }\n  return null;\n}\nfunction getUserAgentHeader(sdk, application, integration, feature) {\n  var headerParts = [];\n  if (application) {\n    headerParts.push(\"app \".concat(application));\n  }\n  if (integration) {\n    headerParts.push(\"integration \".concat(integration));\n  }\n  if (feature) {\n    headerParts.push('feature ' + feature);\n  }\n  headerParts.push(\"sdk \".concat(sdk));\n  var platform = null;\n  try {\n    if (isReactNative()) {\n      platform = getBrowserOS();\n      headerParts.push('platform ReactNative');\n    } else if (isNode()) {\n      platform = getNodeOS();\n      headerParts.push(\"platform node.js/\".concat(getNodeVersion()));\n    } else {\n      platform = getBrowserOS();\n      headerParts.push('platform browser');\n    }\n  } catch (e) {\n    platform = null;\n  }\n  if (platform) {\n    headerParts.push(\"os \".concat(platform));\n  }\n  return \"\".concat(headerParts.filter(function (item) {\n    return item !== '';\n  }).join('; '), \";\");\n}\n\n/**\r\n * Mixes in a method to return just a plain object with no additional methods\r\n * @private\r\n * @param data - Any plain JSON response returned from the API\r\n * @return Enhanced object with toPlainObject method\r\n */\nfunction toPlainObject(data) {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  return Object.defineProperty(data, 'toPlainObject', {\n    enumerable: false,\n    configurable: false,\n    writable: false,\n    value: function value() {\n      return copy(this);\n    }\n  });\n}\n\n/**\r\n * Handles errors received from the server. Parses the error into a more useful\r\n * format, places it in an exception and throws it.\r\n * See https://www.contentful.com/developers/docs/references/errors/\r\n * for more details on the data received on the errorResponse.data property\r\n * and the expected error codes.\r\n * @private\r\n */\nfunction errorHandler(errorResponse) {\n  var config = errorResponse.config,\n    response = errorResponse.response;\n  var errorName;\n\n  // Obscure the Management token\n  if (config && config.headers && config.headers['Authorization']) {\n    var token = \"...\".concat(config.headers['Authorization'].toString().substr(-5));\n    config.headers['Authorization'] = \"Bearer \".concat(token);\n  }\n  if (!isPlainObject(response) || !isPlainObject(config)) {\n    throw errorResponse;\n  }\n  var data = response === null || response === void 0 ? void 0 : response.data;\n  var errorData = {\n    status: response === null || response === void 0 ? void 0 : response.status,\n    statusText: response === null || response === void 0 ? void 0 : response.statusText,\n    message: '',\n    details: {}\n  };\n  if (config && isPlainObject(config)) {\n    errorData.request = {\n      url: config.url,\n      headers: config.headers,\n      method: config.method,\n      payloadData: config.data\n    };\n  }\n  if (data && _typeof(data) === 'object') {\n    var _data$sys;\n    if ('requestId' in data) {\n      errorData.requestId = data.requestId || 'UNKNOWN';\n    }\n    if ('message' in data) {\n      errorData.message = data.message || '';\n    }\n    if ('details' in data) {\n      errorData.details = data.details || {};\n    }\n    errorName = (_data$sys = data.sys) === null || _data$sys === void 0 ? void 0 : _data$sys.id;\n  }\n  var error = new Error();\n  error.name = errorName && errorName !== 'Unknown' ? errorName : \"\".concat(response === null || response === void 0 ? void 0 : response.status, \" \").concat(response === null || response === void 0 ? void 0 : response.statusText);\n  try {\n    error.message = JSON.stringify(errorData, null, '  ');\n  } catch (_unused) {\n    var _errorData$message;\n    error.message = (_errorData$message = errorData === null || errorData === void 0 ? void 0 : errorData.message) !== null && _errorData$message !== void 0 ? _errorData$message : '';\n  }\n  throw error;\n}\nexport { createHttpClient, createRequestConfig, enforceObjPath, errorHandler, freezeSys, getUserAgentHeader, toPlainObject };","map":{"version":3,"names":["copy","qs","isString","pThrottle","isPlainObject","_arrayLikeToArray","r","a","length","e","n","Array","_arrayWithHoles","isArray","asyncGeneratorStep","t","o","c","i","u","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_createForOfIteratorHelper","Symbol","iterator","_unsupportedIterableToArray","F","s","f","TypeError","call","next","return","_defineProperty","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","_inherits","prototype","create","constructor","_setPrototypeOf","_iterableToArrayLimit","l","push","_nonIterableRest","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread2","forEach","getOwnPropertyDescriptors","defineProperties","_regeneratorRuntime","hasOwnProperty","asyncIterator","toStringTag","define","wrap","Generator","Context","makeInvokeMethod","tryCatch","type","arg","h","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","Error","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","name","mark","setPrototypeOf","__proto__","awrap","async","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","delegateYield","bind","_slicedToArray","_toPrimitive","toPrimitive","String","Number","_typeof","toString","from","test","_wrapRegExp","BabelRegExp","RegExp","WeakMap","set","get","buildGroups","reduce","exec","groups","indices","replace","join","asyncToken","instance","getToken","interceptors","request","use","config","accessToken","headers","concat","isNode","process","browser","isReactNative","window","navigator","product","getNodeVersion","versions","node","version","getWindow","noop","undefined","delay","ms","setTimeout","defaultWait","attempts","Math","pow","SQRT2","rateLimit","maxRetry","_instance$defaults","defaults","_instance$defaults$re","responseLogger","_instance$defaults$re2","requestLogger","error","reject","response","_ref","_callee","doneAttempts","retryErrorType","wait","_callee$","_context","retryOnError","status","floor","random","logHandler","httpAgent","httpsAgent","_x","PERCENTAGE_REGEX","calculateLimit","max","limit","_type$match","match","percentage","parseInt","round","min","createThrottle","logger","interval","strict","rateLimitThrottle","axiosInstance","_axiosInstance$defaul","throttle","isCalculated","requestInterceptorId","responseInterceptorId","rawLimit","nextLimit","eject","HOST_REGEX","createHttpClient","axios","options","defaultConfig","insecure","level","data","title","message","console","log","timeout","basePath","adapter","maxContentLength","maxBodyLength","missingAccessTokenError","protocol","space","hostname","defaultHostname","port","host","parsed","split","_parsed","Boolean","baseURL","Authorization","axiosOptions","proxy","paramsSerializer","serialize","params","stringify","httpClientParams","cloneWithNewParams","newParams","onBeforeRequest","retryLimit","onError","createRequestConfig","query","resolveLinks","enforceObjPath","obj","path","err","JSON","deepFreeze","object","propNames","getOwnPropertyNames","_iterator","_step","freeze","freezeSys","sys","getBrowserOS","win","userAgent","platform","macosPlatforms","windowsPlatforms","iosPlatforms","indexOf","getNodeOS","platformMap","android","aix","darwin","freebsd","linux","openbsd","sunos","win32","getUserAgentHeader","sdk","application","integration","feature","headerParts","item","toPlainObject","errorHandler","errorResponse","errorName","token","substr","errorData","statusText","details","url","payloadData","_data$sys","requestId","id","_unused","_errorData$message"],"sources":["C:/Users/ainge/OneDrive/Documents/GitHub/mr-ingerson-blog/node_modules/contentful-sdk-core/dist/index.es-modules.js"],"sourcesContent":["import copy from 'fast-copy';\r\nimport qs from 'qs';\r\nimport isString from 'lodash.isstring';\r\nimport pThrottle from 'p-throttle';\r\nimport isPlainObject from 'lodash.isplainobject';\r\n\r\nfunction _arrayLikeToArray(r, a) {\r\n  (null == a || a > r.length) && (a = r.length);\r\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\r\n  return n;\r\n}\r\nfunction _arrayWithHoles(r) {\r\n  if (Array.isArray(r)) return r;\r\n}\r\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) {\r\n  try {\r\n    var i = n[a](c),\r\n      u = i.value;\r\n  } catch (n) {\r\n    return void e(n);\r\n  }\r\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\r\n}\r\nfunction _asyncToGenerator(n) {\r\n  return function () {\r\n    var t = this,\r\n      e = arguments;\r\n    return new Promise(function (r, o) {\r\n      var a = n.apply(t, e);\r\n      function _next(n) {\r\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\r\n      }\r\n      function _throw(n) {\r\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\r\n      }\r\n      _next(void 0);\r\n    });\r\n  };\r\n}\r\nfunction _createForOfIteratorHelper(r, e) {\r\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\r\n  if (!t) {\r\n    if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\r\n      t && (r = t);\r\n      var n = 0,\r\n        F = function () {};\r\n      return {\r\n        s: F,\r\n        n: function () {\r\n          return n >= r.length ? {\r\n            done: !0\r\n          } : {\r\n            done: !1,\r\n            value: r[n++]\r\n          };\r\n        },\r\n        e: function (r) {\r\n          throw r;\r\n        },\r\n        f: F\r\n      };\r\n    }\r\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n  }\r\n  var o,\r\n    a = !0,\r\n    u = !1;\r\n  return {\r\n    s: function () {\r\n      t = t.call(r);\r\n    },\r\n    n: function () {\r\n      var r = t.next();\r\n      return a = r.done, r;\r\n    },\r\n    e: function (r) {\r\n      u = !0, o = r;\r\n    },\r\n    f: function () {\r\n      try {\r\n        a || null == t.return || t.return();\r\n      } finally {\r\n        if (u) throw o;\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction _defineProperty(e, r, t) {\r\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\r\n    value: t,\r\n    enumerable: !0,\r\n    configurable: !0,\r\n    writable: !0\r\n  }) : e[r] = t, e;\r\n}\r\nfunction _inherits(t, e) {\r\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\r\n  t.prototype = Object.create(e && e.prototype, {\r\n    constructor: {\r\n      value: t,\r\n      writable: !0,\r\n      configurable: !0\r\n    }\r\n  }), Object.defineProperty(t, \"prototype\", {\r\n    writable: !1\r\n  }), e && _setPrototypeOf(t, e);\r\n}\r\nfunction _iterableToArrayLimit(r, l) {\r\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\r\n  if (null != t) {\r\n    var e,\r\n      n,\r\n      i,\r\n      u,\r\n      a = [],\r\n      f = !0,\r\n      o = !1;\r\n    try {\r\n      if (i = (t = t.call(r)).next, 0 === l) {\r\n        if (Object(t) !== t) return;\r\n        f = !1;\r\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\r\n    } catch (r) {\r\n      o = !0, n = r;\r\n    } finally {\r\n      try {\r\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\r\n      } finally {\r\n        if (o) throw n;\r\n      }\r\n    }\r\n    return a;\r\n  }\r\n}\r\nfunction _nonIterableRest() {\r\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n}\r\nfunction ownKeys(e, r) {\r\n  var t = Object.keys(e);\r\n  if (Object.getOwnPropertySymbols) {\r\n    var o = Object.getOwnPropertySymbols(e);\r\n    r && (o = o.filter(function (r) {\r\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\r\n    })), t.push.apply(t, o);\r\n  }\r\n  return t;\r\n}\r\nfunction _objectSpread2(e) {\r\n  for (var r = 1; r < arguments.length; r++) {\r\n    var t = null != arguments[r] ? arguments[r] : {};\r\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\r\n      _defineProperty(e, r, t[r]);\r\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\r\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\r\n    });\r\n  }\r\n  return e;\r\n}\r\nfunction _regeneratorRuntime() {\r\n  _regeneratorRuntime = function () {\r\n    return e;\r\n  };\r\n  var t,\r\n    e = {},\r\n    r = Object.prototype,\r\n    n = r.hasOwnProperty,\r\n    o = Object.defineProperty || function (t, e, r) {\r\n      t[e] = r.value;\r\n    },\r\n    i = \"function\" == typeof Symbol ? Symbol : {},\r\n    a = i.iterator || \"@@iterator\",\r\n    c = i.asyncIterator || \"@@asyncIterator\",\r\n    u = i.toStringTag || \"@@toStringTag\";\r\n  function define(t, e, r) {\r\n    return Object.defineProperty(t, e, {\r\n      value: r,\r\n      enumerable: !0,\r\n      configurable: !0,\r\n      writable: !0\r\n    }), t[e];\r\n  }\r\n  try {\r\n    define({}, \"\");\r\n  } catch (t) {\r\n    define = function (t, e, r) {\r\n      return t[e] = r;\r\n    };\r\n  }\r\n  function wrap(t, e, r, n) {\r\n    var i = e && e.prototype instanceof Generator ? e : Generator,\r\n      a = Object.create(i.prototype),\r\n      c = new Context(n || []);\r\n    return o(a, \"_invoke\", {\r\n      value: makeInvokeMethod(t, r, c)\r\n    }), a;\r\n  }\r\n  function tryCatch(t, e, r) {\r\n    try {\r\n      return {\r\n        type: \"normal\",\r\n        arg: t.call(e, r)\r\n      };\r\n    } catch (t) {\r\n      return {\r\n        type: \"throw\",\r\n        arg: t\r\n      };\r\n    }\r\n  }\r\n  e.wrap = wrap;\r\n  var h = \"suspendedStart\",\r\n    l = \"suspendedYield\",\r\n    f = \"executing\",\r\n    s = \"completed\",\r\n    y = {};\r\n  function Generator() {}\r\n  function GeneratorFunction() {}\r\n  function GeneratorFunctionPrototype() {}\r\n  var p = {};\r\n  define(p, a, function () {\r\n    return this;\r\n  });\r\n  var d = Object.getPrototypeOf,\r\n    v = d && d(d(values([])));\r\n  v && v !== r && n.call(v, a) && (p = v);\r\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\r\n  function defineIteratorMethods(t) {\r\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\r\n      define(t, e, function (t) {\r\n        return this._invoke(e, t);\r\n      });\r\n    });\r\n  }\r\n  function AsyncIterator(t, e) {\r\n    function invoke(r, o, i, a) {\r\n      var c = tryCatch(t[r], t, o);\r\n      if (\"throw\" !== c.type) {\r\n        var u = c.arg,\r\n          h = u.value;\r\n        return h && \"object\" == typeof h && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\r\n          invoke(\"next\", t, i, a);\r\n        }, function (t) {\r\n          invoke(\"throw\", t, i, a);\r\n        }) : e.resolve(h).then(function (t) {\r\n          u.value = t, i(u);\r\n        }, function (t) {\r\n          return invoke(\"throw\", t, i, a);\r\n        });\r\n      }\r\n      a(c.arg);\r\n    }\r\n    var r;\r\n    o(this, \"_invoke\", {\r\n      value: function (t, n) {\r\n        function callInvokeWithMethodAndArg() {\r\n          return new e(function (e, r) {\r\n            invoke(t, n, e, r);\r\n          });\r\n        }\r\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\r\n      }\r\n    });\r\n  }\r\n  function makeInvokeMethod(e, r, n) {\r\n    var o = h;\r\n    return function (i, a) {\r\n      if (o === f) throw Error(\"Generator is already running\");\r\n      if (o === s) {\r\n        if (\"throw\" === i) throw a;\r\n        return {\r\n          value: t,\r\n          done: !0\r\n        };\r\n      }\r\n      for (n.method = i, n.arg = a;;) {\r\n        var c = n.delegate;\r\n        if (c) {\r\n          var u = maybeInvokeDelegate(c, n);\r\n          if (u) {\r\n            if (u === y) continue;\r\n            return u;\r\n          }\r\n        }\r\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\r\n          if (o === h) throw o = s, n.arg;\r\n          n.dispatchException(n.arg);\r\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\r\n        o = f;\r\n        var p = tryCatch(e, r, n);\r\n        if (\"normal\" === p.type) {\r\n          if (o = n.done ? s : l, p.arg === y) continue;\r\n          return {\r\n            value: p.arg,\r\n            done: n.done\r\n          };\r\n        }\r\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\r\n      }\r\n    };\r\n  }\r\n  function maybeInvokeDelegate(e, r) {\r\n    var n = r.method,\r\n      o = e.iterator[n];\r\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator.return && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\r\n    var i = tryCatch(o, e.iterator, r.arg);\r\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\r\n    var a = i.arg;\r\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\r\n  }\r\n  function pushTryEntry(t) {\r\n    var e = {\r\n      tryLoc: t[0]\r\n    };\r\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\r\n  }\r\n  function resetTryEntry(t) {\r\n    var e = t.completion || {};\r\n    e.type = \"normal\", delete e.arg, t.completion = e;\r\n  }\r\n  function Context(t) {\r\n    this.tryEntries = [{\r\n      tryLoc: \"root\"\r\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\r\n  }\r\n  function values(e) {\r\n    if (e || \"\" === e) {\r\n      var r = e[a];\r\n      if (r) return r.call(e);\r\n      if (\"function\" == typeof e.next) return e;\r\n      if (!isNaN(e.length)) {\r\n        var o = -1,\r\n          i = function next() {\r\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\r\n            return next.value = t, next.done = !0, next;\r\n          };\r\n        return i.next = i;\r\n      }\r\n    }\r\n    throw new TypeError(typeof e + \" is not iterable\");\r\n  }\r\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\r\n    value: GeneratorFunctionPrototype,\r\n    configurable: !0\r\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\r\n    value: GeneratorFunction,\r\n    configurable: !0\r\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\r\n    var e = \"function\" == typeof t && t.constructor;\r\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\r\n  }, e.mark = function (t) {\r\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\r\n  }, e.awrap = function (t) {\r\n    return {\r\n      __await: t\r\n    };\r\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\r\n    return this;\r\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\r\n    void 0 === i && (i = Promise);\r\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\r\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\r\n      return t.done ? t.value : a.next();\r\n    });\r\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\r\n    return this;\r\n  }), define(g, \"toString\", function () {\r\n    return \"[object Generator]\";\r\n  }), e.keys = function (t) {\r\n    var e = Object(t),\r\n      r = [];\r\n    for (var n in e) r.push(n);\r\n    return r.reverse(), function next() {\r\n      for (; r.length;) {\r\n        var t = r.pop();\r\n        if (t in e) return next.value = t, next.done = !1, next;\r\n      }\r\n      return next.done = !0, next;\r\n    };\r\n  }, e.values = values, Context.prototype = {\r\n    constructor: Context,\r\n    reset: function (e) {\r\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\r\n    },\r\n    stop: function () {\r\n      this.done = !0;\r\n      var t = this.tryEntries[0].completion;\r\n      if (\"throw\" === t.type) throw t.arg;\r\n      return this.rval;\r\n    },\r\n    dispatchException: function (e) {\r\n      if (this.done) throw e;\r\n      var r = this;\r\n      function handle(n, o) {\r\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\r\n      }\r\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\r\n        var i = this.tryEntries[o],\r\n          a = i.completion;\r\n        if (\"root\" === i.tryLoc) return handle(\"end\");\r\n        if (i.tryLoc <= this.prev) {\r\n          var c = n.call(i, \"catchLoc\"),\r\n            u = n.call(i, \"finallyLoc\");\r\n          if (c && u) {\r\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\r\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\r\n          } else if (c) {\r\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\r\n          } else {\r\n            if (!u) throw Error(\"try statement without catch or finally\");\r\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    abrupt: function (t, e) {\r\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\r\n        var o = this.tryEntries[r];\r\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\r\n          var i = o;\r\n          break;\r\n        }\r\n      }\r\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\r\n      var a = i ? i.completion : {};\r\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\r\n    },\r\n    complete: function (t, e) {\r\n      if (\"throw\" === t.type) throw t.arg;\r\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\r\n    },\r\n    finish: function (t) {\r\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\r\n        var r = this.tryEntries[e];\r\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\r\n      }\r\n    },\r\n    catch: function (t) {\r\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\r\n        var r = this.tryEntries[e];\r\n        if (r.tryLoc === t) {\r\n          var n = r.completion;\r\n          if (\"throw\" === n.type) {\r\n            var o = n.arg;\r\n            resetTryEntry(r);\r\n          }\r\n          return o;\r\n        }\r\n      }\r\n      throw Error(\"illegal catch attempt\");\r\n    },\r\n    delegateYield: function (e, r, n) {\r\n      return this.delegate = {\r\n        iterator: values(e),\r\n        resultName: r,\r\n        nextLoc: n\r\n      }, \"next\" === this.method && (this.arg = t), y;\r\n    }\r\n  }, e;\r\n}\r\nfunction _setPrototypeOf(t, e) {\r\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\r\n    return t.__proto__ = e, t;\r\n  }, _setPrototypeOf(t, e);\r\n}\r\nfunction _slicedToArray(r, e) {\r\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\r\n}\r\nfunction _toPrimitive(t, r) {\r\n  if (\"object\" != typeof t || !t) return t;\r\n  var e = t[Symbol.toPrimitive];\r\n  if (void 0 !== e) {\r\n    var i = e.call(t, r || \"default\");\r\n    if (\"object\" != typeof i) return i;\r\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\r\n  }\r\n  return (\"string\" === r ? String : Number)(t);\r\n}\r\nfunction _toPropertyKey(t) {\r\n  var i = _toPrimitive(t, \"string\");\r\n  return \"symbol\" == typeof i ? i : i + \"\";\r\n}\r\nfunction _typeof(o) {\r\n  \"@babel/helpers - typeof\";\r\n\r\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\r\n    return typeof o;\r\n  } : function (o) {\r\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\r\n  }, _typeof(o);\r\n}\r\nfunction _unsupportedIterableToArray(r, a) {\r\n  if (r) {\r\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\r\n    var t = {}.toString.call(r).slice(8, -1);\r\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\r\n  }\r\n}\r\nfunction _wrapRegExp() {\r\n  _wrapRegExp = function (e, r) {\r\n    return new BabelRegExp(e, void 0, r);\r\n  };\r\n  var e = RegExp.prototype,\r\n    r = new WeakMap();\r\n  function BabelRegExp(e, t, p) {\r\n    var o = RegExp(e, t);\r\n    return r.set(o, p || r.get(e)), _setPrototypeOf(o, BabelRegExp.prototype);\r\n  }\r\n  function buildGroups(e, t) {\r\n    var p = r.get(t);\r\n    return Object.keys(p).reduce(function (r, t) {\r\n      var o = p[t];\r\n      if (\"number\" == typeof o) r[t] = e[o];else {\r\n        for (var i = 0; void 0 === e[o[i]] && i + 1 < o.length;) i++;\r\n        r[t] = e[o[i]];\r\n      }\r\n      return r;\r\n    }, Object.create(null));\r\n  }\r\n  return _inherits(BabelRegExp, RegExp), BabelRegExp.prototype.exec = function (r) {\r\n    var t = e.exec.call(this, r);\r\n    if (t) {\r\n      t.groups = buildGroups(t, this);\r\n      var p = t.indices;\r\n      p && (p.groups = buildGroups(p, this));\r\n    }\r\n    return t;\r\n  }, BabelRegExp.prototype[Symbol.replace] = function (t, p) {\r\n    if (\"string\" == typeof p) {\r\n      var o = r.get(this);\r\n      return e[Symbol.replace].call(this, t, p.replace(/\\$<([^>]+)>/g, function (e, r) {\r\n        var t = o[r];\r\n        return \"$\" + (Array.isArray(t) ? t.join(\"$\") : t);\r\n      }));\r\n    }\r\n    if (\"function\" == typeof p) {\r\n      var i = this;\r\n      return e[Symbol.replace].call(this, t, function () {\r\n        var e = arguments;\r\n        return \"object\" != typeof e[e.length - 1] && (e = [].slice.call(e)).push(buildGroups(e, i)), p.apply(this, e);\r\n      });\r\n    }\r\n    return e[Symbol.replace].call(this, t, p);\r\n  }, _wrapRegExp.apply(this, arguments);\r\n}\r\n\r\nfunction asyncToken(instance, getToken) {\r\n  instance.interceptors.request.use(function (config) {\r\n    return getToken().then(function (accessToken) {\r\n      config.headers.set('Authorization', \"Bearer \".concat(accessToken));\r\n      return config;\r\n    });\r\n  });\r\n}\r\n\r\nfunction isNode() {\r\n  /**\r\n   * Polyfills of 'process' might set process.browser === true\r\n   *\r\n   * See:\r\n   * https://github.com/webpack/node-libs-browser/blob/master/mock/process.js#L8\r\n   * https://github.com/defunctzombie/node-process/blob/master/browser.js#L156\r\n   **/\r\n  return typeof process !== 'undefined' && !process.browser;\r\n}\r\nfunction isReactNative() {\r\n  return typeof window !== 'undefined' && 'navigator' in window && 'product' in window.navigator && window.navigator.product === 'ReactNative';\r\n}\r\nfunction getNodeVersion() {\r\n  return process.versions && process.versions.node ? \"v\".concat(process.versions.node) : process.version;\r\n}\r\nfunction getWindow() {\r\n  return window;\r\n}\r\nfunction noop() {\r\n  return undefined;\r\n}\r\n\r\nvar delay = function delay(ms) {\r\n  return new Promise(function (resolve) {\r\n    setTimeout(resolve, ms);\r\n  });\r\n};\r\nvar defaultWait = function defaultWait(attempts) {\r\n  return Math.pow(Math.SQRT2, attempts);\r\n};\r\nfunction rateLimit(instance) {\r\n  var maxRetry = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\r\n  var _instance$defaults = instance.defaults,\r\n    _instance$defaults$re = _instance$defaults.responseLogger,\r\n    responseLogger = _instance$defaults$re === void 0 ? noop : _instance$defaults$re,\r\n    _instance$defaults$re2 = _instance$defaults.requestLogger,\r\n    requestLogger = _instance$defaults$re2 === void 0 ? noop : _instance$defaults$re2;\r\n  instance.interceptors.request.use(function (config) {\r\n    requestLogger(config);\r\n    return config;\r\n  }, function (error) {\r\n    requestLogger(error);\r\n    return Promise.reject(error);\r\n  });\r\n  instance.interceptors.response.use(function (response) {\r\n    // we don't need to do anything here\r\n    responseLogger(response);\r\n    return response;\r\n  }, /*#__PURE__*/function () {\r\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error) {\r\n      var response, config, doneAttempts, retryErrorType, wait;\r\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\r\n        while (1) switch (_context.prev = _context.next) {\r\n          case 0:\r\n            response = error.response;\r\n            config = error.config;\r\n            responseLogger(error);\r\n            // Do not retry if it is disabled or no request config exists (not an axios error)\r\n            if (!(!config || !instance.defaults.retryOnError)) {\r\n              _context.next = 5;\r\n              break;\r\n            }\r\n            return _context.abrupt(\"return\", Promise.reject(error));\r\n          case 5:\r\n            // Retried already for max attempts\r\n            doneAttempts = config.attempts || 1;\r\n            if (!(doneAttempts > maxRetry)) {\r\n              _context.next = 9;\r\n              break;\r\n            }\r\n            error.attempts = config.attempts;\r\n            return _context.abrupt(\"return\", Promise.reject(error));\r\n          case 9:\r\n            retryErrorType = null;\r\n            wait = defaultWait(doneAttempts); // Errors without response did not receive anything from the server\r\n            if (!response) {\r\n              retryErrorType = 'Connection';\r\n            } else if (response.status >= 500 && response.status < 600) {\r\n              // 5** errors are server related\r\n              retryErrorType = \"Server \".concat(response.status);\r\n            } else if (response.status === 429) {\r\n              // 429 errors are exceeded rate limit exceptions\r\n              retryErrorType = 'Rate limit';\r\n              // all headers are lowercased by axios https://github.com/mzabriskie/axios/issues/413\r\n              if (response.headers && error.response.headers['x-contentful-ratelimit-reset']) {\r\n                wait = response.headers['x-contentful-ratelimit-reset'];\r\n              }\r\n            }\r\n            if (!retryErrorType) {\r\n              _context.next = 19;\r\n              break;\r\n            }\r\n            // convert to ms and add jitter\r\n            wait = Math.floor(wait * 1000 + Math.random() * 200 + 500);\r\n            instance.defaults.logHandler('warning', \"\".concat(retryErrorType, \" error occurred. Waiting for \").concat(wait, \" ms before retrying...\"));\r\n\r\n            // increase attempts counter\r\n            config.attempts = doneAttempts + 1;\r\n\r\n            /* Somehow between the interceptor and retrying the request the httpAgent/httpsAgent gets transformed from an Agent-like object\r\n             to a regular object, causing failures on retries after rate limits. Removing these properties here fixes the error, but retry\r\n             requests still use the original http/httpsAgent property */\r\n            delete config.httpAgent;\r\n            delete config.httpsAgent;\r\n            return _context.abrupt(\"return\", delay(wait).then(function () {\r\n              return instance(config);\r\n            }));\r\n          case 19:\r\n            return _context.abrupt(\"return\", Promise.reject(error));\r\n          case 20:\r\n          case \"end\":\r\n            return _context.stop();\r\n        }\r\n      }, _callee);\r\n    }));\r\n    return function (_x) {\r\n      return _ref.apply(this, arguments);\r\n    };\r\n  }());\r\n}\r\n\r\nvar PERCENTAGE_REGEX = /*#__PURE__*/_wrapRegExp(/(\\d+)(%)/, {\r\n  value: 1\r\n});\r\nfunction calculateLimit(type) {\r\n  var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 7;\r\n  var limit = max;\r\n  if (PERCENTAGE_REGEX.test(type)) {\r\n    var _type$match;\r\n    var groups = (_type$match = type.match(PERCENTAGE_REGEX)) === null || _type$match === void 0 ? void 0 : _type$match.groups;\r\n    if (groups && groups.value) {\r\n      var percentage = parseInt(groups.value) / 100;\r\n      limit = Math.round(max * percentage);\r\n    }\r\n  }\r\n  return Math.min(30, Math.max(1, limit));\r\n}\r\nfunction createThrottle(limit, logger) {\r\n  logger('info', \"Throttle request to \".concat(limit, \"/s\"));\r\n  return pThrottle({\r\n    limit: limit,\r\n    interval: 1000,\r\n    strict: false\r\n  });\r\n}\r\nvar rateLimitThrottle = (function (axiosInstance) {\r\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\r\n  var _axiosInstance$defaul = axiosInstance.defaults.logHandler,\r\n    logHandler = _axiosInstance$defaul === void 0 ? noop : _axiosInstance$defaul;\r\n  var limit = isString(type) ? calculateLimit(type) : calculateLimit('auto', type);\r\n  var throttle = createThrottle(limit, logHandler);\r\n  var isCalculated = false;\r\n  var requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\r\n    return throttle(function () {\r\n      return config;\r\n    })();\r\n  }, function (error) {\r\n    return Promise.reject(error);\r\n  });\r\n  var responseInterceptorId = axiosInstance.interceptors.response.use(function (response) {\r\n    if (!isCalculated && isString(type) && (type === 'auto' || PERCENTAGE_REGEX.test(type)) && response.headers && response.headers['x-contentful-ratelimit-second-limit']) {\r\n      var rawLimit = parseInt(response.headers['x-contentful-ratelimit-second-limit']);\r\n      var nextLimit = calculateLimit(type, rawLimit);\r\n      if (nextLimit !== limit) {\r\n        if (requestInterceptorId) {\r\n          axiosInstance.interceptors.request.eject(requestInterceptorId);\r\n        }\r\n        limit = nextLimit;\r\n        throttle = createThrottle(nextLimit, logHandler);\r\n        requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\r\n          return throttle(function () {\r\n            return config;\r\n          })();\r\n        }, function (error) {\r\n          return Promise.reject(error);\r\n        });\r\n      }\r\n      isCalculated = true;\r\n    }\r\n    return response;\r\n  }, function (error) {\r\n    return Promise.reject(error);\r\n  });\r\n  return function () {\r\n    axiosInstance.interceptors.request.eject(requestInterceptorId);\r\n    axiosInstance.interceptors.response.eject(responseInterceptorId);\r\n  };\r\n});\r\n\r\n// Matches 'sub.host:port' or 'host:port' and extracts hostname and port\r\n// Also enforces toplevel domain specified, no spaces and no protocol\r\nvar HOST_REGEX = /^(?!\\w+:\\/\\/)([^\\s:]+\\.?[^\\s:]+)(?::(\\d+))?(?!:)$/;\r\n\r\n/**\r\n * Create pre-configured axios instance\r\n * @private\r\n * @param {AxiosStatic} axios - Axios library\r\n * @param {CreateHttpClientParams} options - Initialization parameters for the HTTP client\r\n * @return {AxiosInstance} Initialized axios instance\r\n */\r\nfunction createHttpClient(axios, options) {\r\n  var defaultConfig = {\r\n    insecure: false,\r\n    retryOnError: true,\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    logHandler: function logHandler(level, data) {\r\n      if (level === 'error' && data) {\r\n        var title = [data.name, data.message].filter(function (a) {\r\n          return a;\r\n        }).join(' - ');\r\n        console.error(\"[error] \".concat(title));\r\n        console.error(data);\r\n        return;\r\n      }\r\n      console.log(\"[\".concat(level, \"] \").concat(data));\r\n    },\r\n    // Passed to axios\r\n    headers: {},\r\n    httpAgent: false,\r\n    httpsAgent: false,\r\n    timeout: 30000,\r\n    throttle: 0,\r\n    basePath: '',\r\n    adapter: undefined,\r\n    maxContentLength: 1073741824,\r\n    // 1GB\r\n    maxBodyLength: 1073741824 // 1GB\r\n  };\r\n  var config = _objectSpread2(_objectSpread2({}, defaultConfig), options);\r\n  if (!config.accessToken) {\r\n    var missingAccessTokenError = new TypeError('Expected parameter accessToken');\r\n    config.logHandler('error', missingAccessTokenError);\r\n    throw missingAccessTokenError;\r\n  }\r\n\r\n  // Construct axios baseURL option\r\n  var protocol = config.insecure ? 'http' : 'https';\r\n  var space = config.space ? \"\".concat(config.space, \"/\") : '';\r\n  var hostname = config.defaultHostname;\r\n  var port = config.insecure ? 80 : 443;\r\n  if (config.host && HOST_REGEX.test(config.host)) {\r\n    var parsed = config.host.split(':');\r\n    if (parsed.length === 2) {\r\n      var _parsed = _slicedToArray(parsed, 2);\r\n      hostname = _parsed[0];\r\n      port = _parsed[1];\r\n    } else {\r\n      hostname = parsed[0];\r\n    }\r\n  }\r\n\r\n  // Ensure that basePath does start but not end with a slash\r\n  if (config.basePath) {\r\n    config.basePath = \"/\".concat(config.basePath.split('/').filter(Boolean).join('/'));\r\n  }\r\n  var baseURL = options.baseURL || \"\".concat(protocol, \"://\").concat(hostname, \":\").concat(port).concat(config.basePath, \"/spaces/\").concat(space);\r\n  if (!config.headers.Authorization && typeof config.accessToken !== 'function') {\r\n    config.headers.Authorization = 'Bearer ' + config.accessToken;\r\n  }\r\n  var axiosOptions = {\r\n    // Axios\r\n    baseURL: baseURL,\r\n    headers: config.headers,\r\n    httpAgent: config.httpAgent,\r\n    httpsAgent: config.httpsAgent,\r\n    proxy: config.proxy,\r\n    timeout: config.timeout,\r\n    adapter: config.adapter,\r\n    maxContentLength: config.maxContentLength,\r\n    maxBodyLength: config.maxBodyLength,\r\n    paramsSerializer: {\r\n      serialize: function serialize(params) {\r\n        return qs.stringify(params);\r\n      }\r\n    },\r\n    // Contentful\r\n    logHandler: config.logHandler,\r\n    responseLogger: config.responseLogger,\r\n    requestLogger: config.requestLogger,\r\n    retryOnError: config.retryOnError\r\n  };\r\n  var instance = axios.create(axiosOptions);\r\n  instance.httpClientParams = options;\r\n\r\n  /**\r\n   * Creates a new axios instance with the same default base parameters as the\r\n   * current one, and with any overrides passed to the newParams object\r\n   * This is useful as the SDKs use dependency injection to get the axios library\r\n   * and the version of the library comes from different places depending\r\n   * on whether it's a browser build or a node.js build.\r\n   * @private\r\n   * @param {CreateHttpClientParams} newParams - Initialization parameters for the HTTP client\r\n   * @return {AxiosInstance} Initialized axios instance\r\n   */\r\n  instance.cloneWithNewParams = function (newParams) {\r\n    return createHttpClient(axios, _objectSpread2(_objectSpread2({}, copy(options)), newParams));\r\n  };\r\n\r\n  /**\r\n   * Apply interceptors.\r\n   * Please note that the order of interceptors is important\r\n   */\r\n\r\n  if (config.onBeforeRequest) {\r\n    instance.interceptors.request.use(config.onBeforeRequest);\r\n  }\r\n  if (typeof config.accessToken === 'function') {\r\n    asyncToken(instance, config.accessToken);\r\n  }\r\n  if (config.throttle) {\r\n    rateLimitThrottle(instance, config.throttle);\r\n  }\r\n  rateLimit(instance, config.retryLimit);\r\n  if (config.onError) {\r\n    instance.interceptors.response.use(function (response) {\r\n      return response;\r\n    }, config.onError);\r\n  }\r\n  return instance;\r\n}\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Creates request parameters configuration by parsing an existing query object\r\n * @private\r\n * @param {Object} query\r\n * @return {Object} Config object with `params` property, ready to be used in axios\r\n */\r\nfunction createRequestConfig(_ref) {\r\n  var query = _ref.query;\r\n  var config = {};\r\n  delete query.resolveLinks;\r\n  config.params = copy(query);\r\n  return config;\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction enforceObjPath(obj, path) {\r\n  if (!(path in obj)) {\r\n    var err = new Error();\r\n    err.name = 'PropertyMissing';\r\n    err.message = \"Required property \".concat(path, \" missing from:\\n\\n\").concat(JSON.stringify(obj), \"\\n\\n\");\r\n    throw err;\r\n  }\r\n  return true;\r\n}\r\n\r\n// copied from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\r\n\r\nfunction deepFreeze(object) {\r\n  var propNames = Object.getOwnPropertyNames(object);\r\n  var _iterator = _createForOfIteratorHelper(propNames),\r\n    _step;\r\n  try {\r\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\r\n      var name = _step.value;\r\n      var value = object[name];\r\n      if (value && _typeof(value) === 'object') {\r\n        deepFreeze(value);\r\n      }\r\n    }\r\n  } catch (err) {\r\n    _iterator.e(err);\r\n  } finally {\r\n    _iterator.f();\r\n  }\r\n  return Object.freeze(object);\r\n}\r\nfunction freezeSys(obj) {\r\n  deepFreeze(obj.sys || {});\r\n  return obj;\r\n}\r\n\r\nfunction getBrowserOS() {\r\n  var win = getWindow();\r\n  if (!win) {\r\n    return null;\r\n  }\r\n  var userAgent = win.navigator.userAgent;\r\n  // TODO: platform is deprecated.\r\n  var platform = win.navigator.platform;\r\n  var macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\r\n  var windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\r\n  var iosPlatforms = ['iPhone', 'iPad', 'iPod'];\r\n  if (macosPlatforms.indexOf(platform) !== -1) {\r\n    return 'macOS';\r\n  } else if (iosPlatforms.indexOf(platform) !== -1) {\r\n    return 'iOS';\r\n  } else if (windowsPlatforms.indexOf(platform) !== -1) {\r\n    return 'Windows';\r\n  } else if (/Android/.test(userAgent)) {\r\n    return 'Android';\r\n  } else if (/Linux/.test(platform)) {\r\n    return 'Linux';\r\n  }\r\n  return null;\r\n}\r\nfunction getNodeOS() {\r\n  var platform = process.platform || 'linux';\r\n  var version = process.version || '0.0.0';\r\n  var platformMap = {\r\n    android: 'Android',\r\n    aix: 'Linux',\r\n    darwin: 'macOS',\r\n    freebsd: 'Linux',\r\n    linux: 'Linux',\r\n    openbsd: 'Linux',\r\n    sunos: 'Linux',\r\n    win32: 'Windows'\r\n  };\r\n  if (platform in platformMap) {\r\n    return \"\".concat(platformMap[platform] || 'Linux', \"/\").concat(version);\r\n  }\r\n  return null;\r\n}\r\nfunction getUserAgentHeader(sdk, application, integration, feature) {\r\n  var headerParts = [];\r\n  if (application) {\r\n    headerParts.push(\"app \".concat(application));\r\n  }\r\n  if (integration) {\r\n    headerParts.push(\"integration \".concat(integration));\r\n  }\r\n  if (feature) {\r\n    headerParts.push('feature ' + feature);\r\n  }\r\n  headerParts.push(\"sdk \".concat(sdk));\r\n  var platform = null;\r\n  try {\r\n    if (isReactNative()) {\r\n      platform = getBrowserOS();\r\n      headerParts.push('platform ReactNative');\r\n    } else if (isNode()) {\r\n      platform = getNodeOS();\r\n      headerParts.push(\"platform node.js/\".concat(getNodeVersion()));\r\n    } else {\r\n      platform = getBrowserOS();\r\n      headerParts.push('platform browser');\r\n    }\r\n  } catch (e) {\r\n    platform = null;\r\n  }\r\n  if (platform) {\r\n    headerParts.push(\"os \".concat(platform));\r\n  }\r\n  return \"\".concat(headerParts.filter(function (item) {\r\n    return item !== '';\r\n  }).join('; '), \";\");\r\n}\r\n\r\n/**\r\n * Mixes in a method to return just a plain object with no additional methods\r\n * @private\r\n * @param data - Any plain JSON response returned from the API\r\n * @return Enhanced object with toPlainObject method\r\n */\r\nfunction toPlainObject(data) {\r\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n  // @ts-expect-error\r\n  return Object.defineProperty(data, 'toPlainObject', {\r\n    enumerable: false,\r\n    configurable: false,\r\n    writable: false,\r\n    value: function value() {\r\n      return copy(this);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Handles errors received from the server. Parses the error into a more useful\r\n * format, places it in an exception and throws it.\r\n * See https://www.contentful.com/developers/docs/references/errors/\r\n * for more details on the data received on the errorResponse.data property\r\n * and the expected error codes.\r\n * @private\r\n */\r\nfunction errorHandler(errorResponse) {\r\n  var config = errorResponse.config,\r\n    response = errorResponse.response;\r\n  var errorName;\r\n\r\n  // Obscure the Management token\r\n  if (config && config.headers && config.headers['Authorization']) {\r\n    var token = \"...\".concat(config.headers['Authorization'].toString().substr(-5));\r\n    config.headers['Authorization'] = \"Bearer \".concat(token);\r\n  }\r\n  if (!isPlainObject(response) || !isPlainObject(config)) {\r\n    throw errorResponse;\r\n  }\r\n  var data = response === null || response === void 0 ? void 0 : response.data;\r\n  var errorData = {\r\n    status: response === null || response === void 0 ? void 0 : response.status,\r\n    statusText: response === null || response === void 0 ? void 0 : response.statusText,\r\n    message: '',\r\n    details: {}\r\n  };\r\n  if (config && isPlainObject(config)) {\r\n    errorData.request = {\r\n      url: config.url,\r\n      headers: config.headers,\r\n      method: config.method,\r\n      payloadData: config.data\r\n    };\r\n  }\r\n  if (data && _typeof(data) === 'object') {\r\n    var _data$sys;\r\n    if ('requestId' in data) {\r\n      errorData.requestId = data.requestId || 'UNKNOWN';\r\n    }\r\n    if ('message' in data) {\r\n      errorData.message = data.message || '';\r\n    }\r\n    if ('details' in data) {\r\n      errorData.details = data.details || {};\r\n    }\r\n    errorName = (_data$sys = data.sys) === null || _data$sys === void 0 ? void 0 : _data$sys.id;\r\n  }\r\n  var error = new Error();\r\n  error.name = errorName && errorName !== 'Unknown' ? errorName : \"\".concat(response === null || response === void 0 ? void 0 : response.status, \" \").concat(response === null || response === void 0 ? void 0 : response.statusText);\r\n  try {\r\n    error.message = JSON.stringify(errorData, null, '  ');\r\n  } catch (_unused) {\r\n    var _errorData$message;\r\n    error.message = (_errorData$message = errorData === null || errorData === void 0 ? void 0 : errorData.message) !== null && _errorData$message !== void 0 ? _errorData$message : '';\r\n  }\r\n  throw error;\r\n}\r\n\r\nexport { createHttpClient, createRequestConfig, enforceObjPath, errorHandler, freezeSys, getUserAgentHeader, toPlainObject };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}